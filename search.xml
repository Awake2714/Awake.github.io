<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[爬虫设置随机请求头和代理]]></title>
    <url>%2F2019%2F04%2F11%2F%E7%88%AC%E8%99%AB%E8%AE%BE%E7%BD%AE%E9%9A%8F%E6%9C%BA%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%92%8C%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[我在设置爬虫代理和请求头时，真是遇到了很多坑啊，自己一个人自学，又没人交流，自己又是一个没有耐心的人，简直要爆炸了终于，今天晚上好好地静下来慢慢捋了一下代码！终于，似乎从这个坑出来了！先来说说用requests库设置吧，随机请求头我用的是fake-useragent这个包先用httpbin.org/get这个网址测试了一下就这样设置就可以正确输出了，开始我设置的时候居然直接写的 headers=ua.random 我真的要哭死啊！！！一定要记得构造字典！！！ 设置代理，我买的蘑菇代理，感觉还挺划算的，按数量买1000个6块钱，毕竟测试也用不完这么多，永久有效，爬完某宝后我都还剩700多个；按数量感觉不太划算，一天2000个6块钱吧，不过我也用不完，当然如果你需求大的话另当别论，土豪也请随意哈哈哈这里的坑也很多啊，请求了好多次后都不成功，我把ip打印了一下，好像确实有点问题，不过还是不知道问题确切所在，所以又打印了一下长度，果然！！！里面有个换行符和回车！！！我的娘啊！！！我枯了皇天不负有心人，终于搞好了 接下来终于在scrapy框架里面设置这两个中间件了在网上看到好多方法，自己也懵逼，试了一下，这样也行的：request.headers[‘User-Agent’] = self.ua.random不过我真是傻！这样好像是真的不行！不行！会报错的！request.meta[‘headers’] = {‘User-Agent’: ua.random}因为有些请求是不需要代理的，所以查了一下说什么重写make_requests_from_url()方法，设置meta={‘download_timeout’: 10}，但是不知道为什么我的就是不行，所以干脆没有设置了，如果有大佬知道是怎么回事可不可以告诉我一下啊。 另外我是想运行这个代理池的，但是老是报错，实在不知怎么回事啊[泪奔]]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>学校</tag>
        <tag>学习</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[scrapy爬取某宝商品信息]]></title>
    <url>%2F2019%2F04%2F11%2Fscrapy%E7%88%AC%E5%8F%96%E6%9F%90%E5%AE%9D%E5%95%86%E5%93%81%E4%BF%A1%E6%81%AF%2F</url>
    <content type="text"><![CDATA[在多次踩坑后，终于写好我的爬虫了。说说我遇到的问题:第一就是在scrapy框架里设置随机请求头中间件第二也是中间件，代理中间件，关于这两点可以参考我的博客：爬虫设置随机请求头和代理这两个问题真的困扰了我超级久啊。解决好这两个问题好，我的爬虫终于运行起来啦啦啦贴一下我的部分代码，嘿嘿嘿 目录文件夹结构 taobao.py重写 start_requests() 方法parse()方法 解析商品信息 items.py你要存储的字段 middlewares.py随机请求头 UserAgentMiddleware代理 ProxyMiddleware settings.py pipelines.py存储数据到Mongodb run.py最后就可以运行啦 python run.py运行结束后的部分数据是这样的哈哈哈 代码地址：https://github.com/Awake2714/Taobao]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>学校</tag>
        <tag>学习</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[四分之一]]></title>
    <url>%2F2019%2F03%2F30%2F%E5%9B%9B%E5%88%86%E4%B9%8B%E4%B8%80%2F</url>
    <content type="text"><![CDATA[今天是3月的倒数第二天，也是2019四分之一快要结束的倒数第二天。时间过得可真快呀，忙碌的3月终于结束了。以为自己多努力，其实就考了教师资格证和计算机二级，结果怎样也不知道。三月，我习惯了戴上耳机，坐在电脑前的日子；三月，我的生物钟不允许我睡懒觉；三月，把我从熟人社交和陌生人社交中解救出来。大概成长就是逐渐失去联系，大概成长就是在自己以前吹过牛逼的地方填坑癞蛤蟆永远变不成天鹅的，不管你多拼，有些东西天生就注定了。四月，看似清闲，但却有好多事没有做，从何下手，毫无头绪。所以，我们加油吧，希望大家都不要忘记年初立下的flag[牛逼];希望大家2019好好学习[填坑]，好好生活，硕果累累！]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>学校</tag>
        <tag>总结</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[快让我冷静一下]]></title>
    <url>%2F2019%2F03%2F17%2F%E5%BF%AB%E8%AE%A9%E6%88%91%E5%86%B7%E9%9D%99%E4%B8%80%E4%B8%8B%2F</url>
    <content type="text"><![CDATA[呜呜呜，太激动了，我快要抑制不住自己的兴奋了在经过so many bugs后我的博客终于问世了本来第一次已经搭建好了，可是在做主题美化时不知道哪里出了问题，导致页面无法正常显示了，对于我一个菜鸟而言，感觉还是直接重来比较快捷，索性把GitHub上的仓库给删了，重新来过。第二次搭建时自然比第一次轻松了许多，在网上找了很多大佬的博客，一步一步地来，虽然中间的坑很多，但终于大致完成了美化工作最后买了个域名，将GitHub域名关联起来，由于昨天没有认证，搞了半天都不知道问题在哪儿。今天晚上又来搞了一下，啊啊啊，终于完成了，太激动了还有一个评论功能没有添加，好像有点麻烦，过段时间再来搞吧]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>学习</tag>
        <tag>心情</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[王子]]></title>
    <url>%2F2019%2F03%2F17%2F%E7%8E%8B%E5%AD%90%2F</url>
    <content type="text"><![CDATA[我的博客终于搭建好了，呜呜呜，哭唧唧搭，忍不住要发第一篇博文 在这春天，总是有人让我记起高中时我们班的那位“王子”（真名：王子X）。他恰如我笔下所描绘的那样……他的身上总是能散发出一种味道，那味道是。。。他走路总是有一种气质，摇摇欲坠，翩翩欲倒他擦鼻涕有一种独特的方式，袖子一提，手横起一揩，没了他总是有吃不完的辣条[羡慕]，偶尔嘴上还留有油渍他能修电脑，总是受到语文老师独一无二的青睐，比如，某天，偷偷地（不，不知他有什么独特的方法）溜出校门去买午餐还是晚餐来着，坐在某幢楼的角落秀色可餐的吃起来，然后…就被我们语文老师逮个正着语文老师用自己婀娜的身姿，迷人的手势，忍俊不禁的笑容向我们讲及这件事高一还是高二来着，我们十分有幸分到了一个小组，当时班主任叫我们给自己组想一个口号，别的小组都是什么“赶莺超美”（传说中我们班的学霸），而我们组的却是：清新口气，你我更亲近然而…如今…历史总是惊人的相似…我…have no words我犹记得，高中学校外有一家饰品店，外面拉了一条横幅，大意是“一直被模仿，从未被超越”yes，目前，他奶奶的，我深刻地把前半句话理解得透彻透底most important！THIS IS NOT THE FIRST TIME!!!莫非？我的idea太好了？我常常因为自己过于优秀而感到苦恼 我抄你个奶奶的腿儿的 最后！是王子走进了这家店吗？？？]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>学校</tag>
        <tag>心情</tag>
      </tags>
  </entry>
</search>
